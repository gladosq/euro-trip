const menuButton=document.querySelector(".header__nav-button"),navigationMenu=document.querySelector(".header__nav"),navigationMenuOpened=document.querySelector(".header__nav-button-opened"),tabList=document.querySelectorAll(".tabs__item"),tabsInfo=document.querySelectorAll(".tabs-info__item"),countriesCards=document.querySelectorAll(".countries__list li"),navLinks=document.querySelectorAll(".header__nav-link"),lookToursButton=document.querySelector(".promo__button"),tabsInfoButtons=document.querySelectorAll(".tabs-info__item-button"),modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay"),modalForm=document.querySelector(".modal__form"),modalClose=document.querySelector(".modal__form-close"),modalFormTitle=document.querySelector(".modal__form-title"),modalFormInput=document.querySelectorAll(".modal__form-input"),modalFormSubmit=document.querySelector(".modal__form-button"),modalSuccess=document.querySelector(".modal-success"),modalSuccessClose=document.querySelector(".modal-success__close"),complexButton=document.querySelector(".price__complex-button"),economButton=document.querySelector(".price__econom-button"),questionsButton=document.querySelector(".questions__form-button"),questionsForm=document.querySelector(".questions__form"),questionsFormInput=document.querySelector(".questions__form-input"),questionsFormTitle=document.querySelector(".questions__form-title");function checkNojsCompatibility(){navigationMenu.classList.contains("header__nav--nojs")&&navigationMenu.classList.remove("header__nav--nojs")}function switchTab(e){for(let e=0;e<tabList.length;e++)tabsInfo[e].classList.contains("hidden")||(tabList[e].classList.contains("tabs__item--active")&&tabList[e].classList.remove("tabs__item--active"),tabsInfo[e].classList.add("hidden"));tabList[e].classList.add("tabs__item--active"),tabsInfo[e].classList.remove("hidden")}function closeModal(e){clearInputs(),modalFormInput[0].style.borderColor="rgba(44, 46, 63, 0.3)",modalFormTitle.classList.contains("modal__form-title--invalid")&&modalFormTitle.classList.remove("modal__form-title--invalid"),document.body.classList.remove("page-body--noscroll"),modal.classList.add("hidden"),overlay.classList.add("hidden"),modalClose.removeEventListener("click",closeModal),window.removeEventListener("click",closeModalHandler),window.removeEventListener("keydown",closeModalHandler)}function openModal(e){document.body.classList.add("page-body--noscroll"),modal.classList.remove("hidden"),overlay.classList.remove("hidden"),modalFormInput[0].focus(),modalClose.addEventListener("click",closeModal),window.addEventListener("click",closeModalHandler),window.addEventListener("keydown",closeModalHandler)}function closeModalHandler(e){e.target.classList.contains("overlay")&&(clearInputs(),modalFormInput[0].style.borderColor="rgba(44, 46, 63, 0.3)",modalFormTitle.classList.contains("modal__form-title--invalid")&&modalFormTitle.classList.remove("modal__form-title--invalid"),document.body.classList.remove("page-body--noscroll"),modal.classList.add("hidden"),overlay.classList.add("hidden")),"keydown"===e.type&&"Escape"==e.key&&(clearInputs(),modalFormInput[0].style.borderColor="rgba(44, 46, 63, 0.3)",modalFormTitle.classList.contains("modal__form-title--invalid")&&modalFormTitle.classList.remove("modal__form-title--invalid"),document.body.classList.remove("page-body--noscroll"),modal.classList.add("hidden"),overlay.classList.add("hidden"))}function closeSuccessModal(e){"keydown"===e.type&&"Escape"==e.key&&(document.body.classList.remove("page-body--noscroll"),clearInputs(),modalSuccess.classList.add("hidden"),overlay.classList.add("hidden")),e.target.classList.contains("overlay")&&(document.body.classList.remove("page-body--noscroll"),clearInputs(),modalSuccess.classList.add("hidden"),overlay.classList.add("hidden"))}function closeSuccessModalHandler(){document.body.classList.remove("page-body--noscroll"),clearInputs(),modalSuccess.classList.add("hidden"),overlay.classList.add("hidden")}function clearInputs(){modalFormInput[0].value="",modalFormInput[1].value=""}function openSuccessedModal(){document.body.classList.add("page-body--noscroll"),modalSuccess.classList.remove("hidden"),overlay.classList.remove("hidden")}checkNojsCompatibility(),menuButton.addEventListener("click",(function(){navigationMenu.classList.contains("header__nav--opened")||navigationMenu.classList.add("header__nav--opened")})),navigationMenuOpened.addEventListener("click",(function(){navigationMenu.classList.contains("header__nav--opened")&&navigationMenu.classList.remove("header__nav--opened")})),lookToursButton.addEventListener("click",(function(){location.href="#tabs"})),tabsInfoButtons.forEach(e=>{e.addEventListener("click",(function(){openModal()}))}),complexButton.addEventListener("click",(function(){openModal()})),economButton.addEventListener("click",(function(){openModal()})),navLinks.forEach(e=>{e.addEventListener("click",(function(){navigationMenu.classList.contains("header__nav--opened")&&navigationMenu.classList.remove("header__nav--opened")}))}),countriesCards.forEach((e,o)=>{e.addEventListener("click",(function(){switchTab(o)}))}),tabList.forEach((e,o)=>{e.addEventListener("click",(function(){switchTab(o)}))}),questionsButton.addEventListener("click",(function(e){e.preventDefault(),!1===questionsForm.checkValidity()?(questionsFormInput.style.borderColor="#FE7865",questionsFormTitle.classList.add("questions__form-title--invalid")):(questionsFormInput.style.borderColor="rgba(44, 46, 63, 0.3)",questionsFormTitle.classList.remove("questions__form-title--invalid"),modalSuccess.classList.remove("hidden"),overlay.classList.remove("hidden"),document.body.classList.add("page-body--noscroll"),modalSuccessClose.addEventListener("click",closeSuccessModalHandler),window.addEventListener("click",closeSuccessModal),window.addEventListener("keydown",closeSuccessModal))})),modalFormSubmit.addEventListener("click",(function(e){e.preventDefault(),!1===modalForm.checkValidity()?(modalFormInput[0].style.borderColor="#FE7865",modalFormTitle.classList.add("modal__form-title--invalid")):(modalFormTitle.classList.remove("modal__form-title--invalid"),modalFormInput[0].style.borderColor="rgba(44, 46, 63, 0.3)",localStorage.phone?localStorage.phone=modalFormInput[0].value:localStorage.setItem("phone",modalFormInput[0].value),localStorage.email?localStorage.email=modalFormInput[1].value:localStorage.setItem("email",modalFormInput[1].value),modalClose.removeEventListener("click",closeModal),window.removeEventListener("click",closeModalHandler),window.removeEventListener("keydown",closeModalHandler),modal.classList.add("hidden"),modalSuccess.classList.remove("hidden"),modalSuccessClose.addEventListener("click",closeSuccessModalHandler),window.addEventListener("click",closeSuccessModal),window.addEventListener("keydown",closeSuccessModal))}));